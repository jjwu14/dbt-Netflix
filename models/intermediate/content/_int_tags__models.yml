# test all pased 

version: 2

models:
  - name: int_movie_rating_stats
    description: "Aggregated rating statistics per movie"
    columns:
      - name: movie_id
        tests:
          - not_null
          - unique
      - name: avg_rating
        tests:
          - not_null
      - name: rating_count
        tests:
          - not_null
      - name: unique_raters
        tests:
          - not_null

  - name: int_movie_tag_relevance
    description: "Tag relevance per movie"
    columns:
      - name: movie_id
        tests:
          - not_null
      - name: tag_id
        tests:
          - not_null
      - name: tag
        tests:
          - not_null
      - name: relevance
        tests:
          - not_null
          - relevance_range

  - name: int_movie_top_tags
    description: "Top N tags per movie"
    columns:
      - name: movie_id
        tests:
          - not_null
      - name: tag_id
        tests:
          - not_null
      - name: tag
        tests:
          - not_null
      - name: relevance
        tests:
          - not_null



  - name: int_tag_movie_link
    description: "Link table between tags and movies"
    columns:
      - name: movie_id
        tests:
          - not_null
      - name: tag_id
        tests:
          - not_null
      - name: tag
        tests:
          - not_null
      - name: relevance
        tests:
          - not_null
